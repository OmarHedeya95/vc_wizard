import sys
import openai

"""A helper function that takes text containing the notes about a VC from the javascript (obsidian plugin) and prints the summary of it (read by the plugin)
"""
text = sys.argv[1]
key = sys.argv[2]
openai.api_key = key

def vc_summarize(query_prompt: str):
    """Method that takes notes describing a VC and returns the summary

    Args:
        query_prompt (str): notes describing a vc

    Returns:
        string: summary of the VC
    """
    vc_prompt = "The AI reads bullet point notes about a Venture Capital Fund and summarizes the main points to answer the following questions:\n- How big is the fund?\n- How big is the initial ticket size?\n- What is the geographical focus of the fund?\n- What is the stage focus of the fund?\n- What is the industry focus of the fund?\n- What is special about them?\nIf information is not mentioned, the AI writes \"Not mentioned\"\nNotes: \n A Belgian VC we know about through [[Stack Guardian]]. One of the co-founders [Karl] is an LP there, they really do help startups from the very beginning with the founding and everything\n- [[Frank Maene]] is a partner there (more on affinity)\n- 55M First Fund + 70M Second Fund\n-  Initial ticket size between 300k - 3M\n-  Can follow up between 5M - 7M for the best companies\n-  Invest Pre-seed and Seed\n-  Only invest in software companies (B2B SaaS) no B2C\n-  Have institutional investors as well as Entrepreneurs\n-  Do a lot to help founders in setting up companies and kickstart their startups\n-  Focused on Belgium and Belenux area\n-  They invested in 15 companies so far from the second fund looking to add 10 more\n\nSummary:\n- Fund size: 55M + 70M\n- Ticket size: 300k - 3M can follow up between 5M - 7M\n- Geography: Belgium and Belenux area\n- Stage: Pre-seed and Seed\n- Industry: B2B SaaS no B2C\n- Special: They help founders in setting up companies\n--\nNotes:\n- They invested in Bumble and Sorare (Fantasy Football), Blinkist, Groupon\n- They have offices in San Francisco, Berlin, Paris, Sao Paulo, Beijing, Taipei, and Tokyo\n\t- #Geo/Germany , #Geo/USA , #Geo/Japan, #Geo/China\n- **Ticket size** -> $1M - 50M across all stages and geographies\n- Early stage fonds in Europe as well\n- Changed the name from e.ventures \n- They have their Own #Industry/Blockchain/Crypto Incubator with a Crypto Collective Fund in Berlin -> really early infrastructure \n- Pretty Tech Heavy -> 18 people working on their software technology\n\t- One of the platform called Search Light -> Scouts companies from open data sources\n\t\t- Deep Dive -> Super Power -> ask the company for the purchases and some refunds or cancellarion in csv, and then they can do very cool customer cohort analyses, even with very smal amount of data -> Churn and everything can be calculated\n\t- Fund returners are actually sourced with Search Light and validated with Deep Dive\n\t\t- Be able to find in the US and Europe especially US (Minneosota or so) -> amazing companies that grow like crazy\n\t\t\t- BitWarden -> Password Management -> Made a deal with NASA -> 1M ARR when they found them -> now it is 20M in ARR -> one guy in middle of nowhere in america\n\n- Software mainly but not hardware -> Hardware only if very first round\nSummary:\n- Fund size: Not mentioned\n- Ticket size: $1M - 50M across all stages and geographies\n- Geography: San Francisco, Berlin, Paris, Sao Paulo, Beijing, Taipei, Tokyo, US (Minnesota)\n- Stage: Not mentioned\n- Industry: B2B SaaS, Blockchain/Crypto, Early stage funds in Europe, Software (not Hardware, unless first round)\n--\nNotes:\n> VC Fund that invests in the best alumni of [[London School of Economics]]\n- I got introduced to them through the founder of [[Retorio]]\n- I got introduced to [[David Houghton]] there\n- Based in London\n- #Pre-seed , #Seed \n- 250k - 500k ticket size\n\nSummary:\n- Fund size: Not mentioned \n- Ticket size: 250k - 500k\n- Geography: London\n- Stage: Pre-seed, Seed\n- Industry: Not Mentioned\n- Special: They invested in famous companies like Blinkist, Groupon, and Bumble. They also have a platform called Search Light that scouts companies for them. In addition, the platform Deep Dive help them validate company data.\n--\nNotes:\n**DO SOFTWARE ONLY**\n> New Berlin based #DeepTech investor, who has physicists in-house and got as well [[Benjamin Wolba]] who has the [[Future Of Computing]] Newsletter\n\n> If there is a technical risk and chance the technology fails -> **then send it to Lunar**\n\n- **Ticket Size** -> 300k - 1M, sweet spot 500k\n- **Fund Size** -> 40M\n- Main focus on #Geo/EU , opportunistically in #Geo/USA \n- It seems that the partners have deep expertise in #Industry/CyberSecurity \n\nSummary:\n- Fund size: 40M\n- Ticket size: 300k - 1M (sweet spot 500k)\n- Geography: EU, USA (opportunistically)\n- Stage: Not mentioned\n- Industry: Software, CyberSecurity\n- Special: They have a physicist in-house, Benjamin, and they like startups where there is a technical risk and chance of failure.\n--\nNotes:\n> There I know [[Marc KÃ¼hn]] and [[Lisa Liu]]\n- 250M is the size of their current and 3rd Fund\n- #Pre-seed , #Seed , #SeriesA \n- #b2b  and #DeepTech  -> Like more complex stuff\n- LP Bases mix of Public Institutions, large german industrial companies and family offices\n- 250 corporate partners at UnternehmerTUM\n- Invest all over #Geo/EU  with focus on #Geo/DACH\n- Ticket size: 500k - 10M initially\n\nSummary:\n- Fund size: 250M\n- Ticket size: 500k - 10M\n- Geography: EU, DACH (focus)\n- Stage: Pre-seed, Seed, Series A\n- Industry: B2B, DeepTech\n- Special: They have 250 corporate partners through UnternehmerTUM\n--\nNotes:\n> Founding investor in [[BionTech]], that raises a fund every year from RETAIL INVESTORS, starting from 5k per LP ticket, and got 1.3B AUM!\n\n#### Ticket size\n- 1-10M -> sweet spot 3-5M\n\n#### General\n- They have to be lead or co-lead because they need to do heavy DD anyways since they are heavily regulated\n\nSummary:\n- Fund size: 1.3B AUM\n- Ticket size: 1-10M (sweet spot 3-5M)\n- Geography: Not mentioned\n- Stage: Not mentioned\n- Industry: Not mentioned\n- Special: They raise a fund every year from retail investors, starting from 5k per LP ticket, and have to be lead or co-lead because they need to do heavy DD anyways.\n--\nNotes:\n- [[Tunya Irkad]] is my connection there\n-   Part of the 500 Global in Sillicon Valley\n-   First fund started in 2015, just 2 people (GP and Associate), invested in 40 companies; **3 of which became Unicorns**\n-   Now they are raising the second fund (70M cap, 50M+ committed already)\n-   Ticket size: 250k - 2.5M, 70% allocation for follow on rounds\n-   Mandate only in CEE and Turkey\n-   They have experience in gaming industires. #Industry/Gaming \n-   Strong network in Turkey where they can lead, usually follow in CEE (building network there)\nSummary:\n- Fund size: 70M (50M+ committed already)\n- Ticket size: 250k - 2.5M, 70% allocation for follow on rounds \n- Geography: CEE and Turkey\n- Stage: Not mentioned\n- Industry: Gaming\n- Special: 3 of their investments became Unicorns, strong network in Turkey where they can lead. Part of 500 Global in Sillicon Valley\n--\nNotes:\n- Bring together some of the world top practitioner and invest in their community\n- 5 investing partners\n- Full time team for diligence and the portfolio support\n- Portfolio of AI  companies\n- **Community**: They have 5 AI folks, they brought their entire networks in AIX as LPs as and as part of the community -> events every quarter -> to talk about future of AI\n- Events are all face in face\n- Concentrated in Sillicon Valley, and do invest everywhere\n- 10-20M cap -> Fund I -> is 5%\n- Khosla and Bain are LPs there\n\nSummary:\n- Fund size: 10-20M (Fund I is 5%)\n- Ticket size: Not mentioned \n- Geography: Silicon Valley, invest everywhere\n- Stage: Not mentioned\n- Industry: AI\n- Special: They bring together some of the world's top practitioners and invest in their community. They have events every quarter to talk about the future of AI, which are all face-to-face. Khosla and Bain are LPs.\n--\nNotes:\n> A VC Fund focused on supporting frontier technology and #Industry/Blockchain/Crypto \n\n> We invest $500k in pre-seed startups accelerating the Sci-Fi Future (aerospace, VR/AR, energy, climate, robotics, crypto, bio, AI/ML, deep tech & more). We target startups raising $2m or less.\n\n- In their portfolio they have [[Coinbase]] and [[Etherscan]]\n- They have a \"Sci-fi\" Technology event day -> they like #DeepTech technologies\n- I got to know about them through [[Numinos]] startup\n\n- Interestingly [[Adam Draper]] the founder of Boost VC is the son of the billionaire [Tim Draper](https://en.wikipedia.org/wiki/Tim_Draper), who invested in multiple unicorns over his career. Interestingly enough Adam is 4th generation VC\n\t- It seems that [[Draper University of Heroes]] is to great extent a \"[scam](https://www.reddit.com/r/ASU/comments/8clfow/does_anyone_know_anything_about_draper_university/)\" that charges people a lot of money to teach them about Entrepreneurship \n\nSummary:\n- Fund size: Not mentioned\n- Ticket size: 500k in pre-seed startups, targeting startups raising $2M or less\n- Geography: Not mentioned\n- Stage: Pre-seed\n- Industry: Blockchain/Crypto, Aerospace, VR/AR, Energy, Climate, Robotics, Bio, AI/ML, Deep Tech\n- Special: Adam Draper the founder of Boost VC is the son of billionaire Tim Draper. They have a \"Sci-Fi\" Technology event day and are associated with Draper University of Heroes.\n--\nNotes:\n- Bsc. in Physics\n- Masters in Australia -> first touch base with Startups in 2016\n- PhD as a Physicist -> Fundamental Research\n- Had this urge to do something that is more relevant\n- Tried building startups multiple times\n- Started side hustle of e-publishing platform\n- Went through EF -> he did not meet a co-founder -> dropped out\n- January this year joined Lunar Ventures\n\nSummary:\n- Fund size: Not mentioned\n- Ticket size: Not mentioned\n- Geography: Not mentioned\n- Stage: Not mentioned\n- Industry: Not mentioned\n- Special: Bsc. in Physics, Masters in Australia, PhD as a Physicist, had an urge to do something more relevant, tried building startups multiple times, started side hustle of e-publishing platform, went through EF and then joined Lunar Ventures.\n--\nNotes:\n> Partner at [[Entrepreneur First]] in the UK. I got introduced to him through [[Abdel Mahmood Stealth]]\n- **Jonny**\n\t- EF Partners\n\t- Run London office\n\t- 4-5 years now\n\t- Started as a teacher, he taught from 2009 -> he wanted to move to London\n\t- He worked in schools before, I will go work in school -> you can teach without qualification for a year -> got teaching qualification -> decided he did not want to be a teacher\n\t- Spent next year -> met edtech startup -> became a sales guy there -> 0 revenue -> 3 years later -> 12 people -> 3M a year in revenue\n\t- 5 -> 70 team -> pre-seed -> to Series A\n\t- Joined EF, was doing portfolio support\n\t- After 12 months became Partner\n\nSummary:\n- Fund size: Not mentioned\n- Ticket size: Not mentioned\n- Geography: UK\n- Stage: Pre-seed, Series A\n- Industry: Edtech\n- Special: Jonny started as a teacher and then worked in a school before working for an edtech startup, which grew from 0 revenue to 3M a year in revenue and a team size of 12 people to 70 people. He joined EF as a portfolio support and then became a Partner.\n--\n"

    response = openai.Completion.create(
        model="text-davinci-003",
        prompt=vc_prompt + '\nNotes:\n' + query_prompt + '\nSummary:',
        temperature=0.7,
        max_tokens=256,
        top_p=1,
        frequency_penalty=0,
        presence_penalty=0,
        stop=["--"]
    )
    return response['choices'][0]['text']

results = vc_summarize(text)
print(results)